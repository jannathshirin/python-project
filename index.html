 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ilahia College Doubt Forum</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            padding: 0;
            margin: 0;
        }

        /* Intro Page Styles */
        .intro-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #ff6b9d 0%, #ffc3e1 100%);
        }
        
        /* Main forum background */
        #main-forum {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .intro-content {
            text-align: center;
            animation: fadeIn 1s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .cute-illustration {
            position: relative;
            margin-bottom: 40px;
            height: 200px;
        }

        .book-stack {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 10px;
            margin-bottom: 20px;
        }

        .book {
            font-size: 60px;
            animation: bounce 2s infinite;
        }

        .book1 {
            animation-delay: 0s;
        }

        .book2 {
            animation-delay: 0.2s;
        }

        .book3 {
            animation-delay: 0.4s;
        }

        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }

        .student-emoji {
            font-size: 80px;
            animation: wave 1.5s infinite;
        }

        @keyframes wave {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(-10deg); }
            75% { transform: rotate(10deg); }
        }

        .floating-icons {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
        }

        .float-icon {
            position: absolute;
            font-size: 30px;
            animation: float 3s infinite ease-in-out;
            opacity: 0.8;
        }

        .float-icon:nth-child(1) { left: 10%; }
        .float-icon:nth-child(2) { left: 30%; }
        .float-icon:nth-child(3) { right: 30%; }
        .float-icon:nth-child(4) { right: 10%; }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-30px); }
        }

        .intro-title {
            font-size: 48px;
            color: white;
            margin-bottom: 20px;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }

        .intro-message {
            font-size: 32px;
            color: white;
            margin-bottom: 10px;
            font-weight: 500;
        }

        .intro-submessage {
            font-size: 18px;
            color: rgba(255,255,255,0.9);
            margin-bottom: 40px;
        }

        .get-started-btn {
            background: white;
            color: #667eea;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 20px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .get-started-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Motivational Page Styles */
        .motivation-page {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
        }

        .motivation-content {
            text-align: center;
            animation: fadeIn 1s ease-in;
            max-width: 700px;
        }

        .motivation-illustration {
            position: relative;
            margin-bottom: 40px;
            height: 150px;
        }

        .trophy {
            font-size: 100px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .stars-burst {
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
        }

        .star {
            position: absolute;
            font-size: 40px;
            animation: twinkle 1.5s infinite;
        }

        .star:nth-child(1) {
            left: 20%;
            animation-delay: 0s;
        }

        .star:nth-child(2) {
            left: 50%;
            top: -20px;
            animation-delay: 0.3s;
        }

        .star:nth-child(3) {
            right: 20%;
            animation-delay: 0.6s;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0.3; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1.2); }
        }

        .motivation-title {
            font-size: 42px;
            color: #333;
            margin-bottom: 40px;
            font-weight: 700;
        }

        .motivation-quotes {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 40px;
        }

        .quote-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }

        .quote-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
        }

        .quote-text {
            font-size: 22px;
            color: #333;
            font-weight: 500;
            margin-bottom: 10px;
        }

        .quote-emoji {
            font-size: 35px;
            margin: 0;
        }

        .motivation-message {
            font-size: 24px;
            color: #333;
            font-weight: 600;
            margin-bottom: 30px;
        }

        .continue-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 50px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .continue-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        /* Main Forum Styles */
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            background: white;
            padding: 25px;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }

        h1 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .subtitle {
            color: #666;
            font-size: 14px;
        }

        .post-doubt-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 15px;
            transition: background 0.3s;
        }

        .post-doubt-btn:hover {
            background: #5568d3;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            padding: 30px;
            border-radius: 10px;
            width: 90%;
            max-width: 500px;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-content h2 {
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            color: #333;
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
        }

        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .btn-primary {
            background: #667eea;
            color: white;
        }

        .btn-secondary {
            background: #ddd;
            color: #333;
        }

        .doubt-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .doubt-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .doubt-title {
            font-size: 20px;
            color: #333;
            font-weight: 600;
            margin-bottom: 5px;
        }

        .doubt-meta {
            display: flex;
            gap: 15px;
            font-size: 13px;
            color: #666;
            margin-bottom: 10px;
        }

        .subject-tag {
            background: #667eea;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
        }

        .solved-badge {
            background: #10b981;
            color: white;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: 600;
        }

        .doubt-description {
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .doubt-actions {
            display: flex;
            gap: 10px;
        }

        .answer-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
        }

        .answers-section {
            margin-top: 20px;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        .answer-card {
            background: #f9fafb;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            border-left: 3px solid #667eea;
        }

        .answer-card.solved {
            border-left-color: #10b981;
            background: #f0fdf4;
        }

        .answer-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .answer-author {
            font-weight: 600;
            color: #333;
        }

        .answer-time {
            font-size: 12px;
            color: #999;
        }

        .answer-text {
            color: #555;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .answer-actions {
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .upvote-btn {
            background: white;
            border: 1px solid #ddd;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            font-size: 14px;
        }

        .upvote-btn:hover {
            background: #f3f4f6;
        }

        .upvote-btn.upvoted {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .mark-solved-btn {
            background: #10b981;
            color: white;
            border: none;
            padding: 6px 12px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 12px;
        }

        .no-doubts {
            text-align: center;
            padding: 60px 20px;
            color: white;
            font-size: 18px;
        }

        .answer-input {
            margin-top: 15px;
            padding: 10px;
            width: 100%;
            border: 1px solid #ddd;
            border-radius: 5px;
            min-height: 80px;
            resize: vertical;
        }

        .submit-answer-btn {
            margin-top: 10px;
            background: #10b981;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
        }

        .cancel-answer-btn {
            margin-top: 10px;
            margin-left: 10px;
            background: #ddd;
            color: #333;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <!-- Intro Page -->
    <div id="intro-page" class="intro-page">
        <div class="intro-content">
            <div class="cute-illustration">
                <div class="book-stack">
                    <div class="book book1">üìö</div>
                    <div class="book book2">üìñ</div>
                    <div class="book book3">üìï</div>
                </div>
                <div class="student-emoji">üéì</div>
                <div class="floating-icons">
                    <span class="float-icon" style="animation-delay: 0s;">üí°</span>
                    <span class="float-icon" style="animation-delay: 0.5s;">‚ú®</span>
                    <span class="float-icon" style="animation-delay: 1s;">üåü</span>
                    <span class="float-icon" style="animation-delay: 1.5s;">üí≠</span>
                </div>
            </div>
            <h1 class="intro-title">Haiii! üëã</h1>
            <p class="intro-message">You can ask me any doubts üí¨</p>
            <p class="intro-submessage">I'm here to help you learn and grow! ‚ú®</p>
            <button class="get-started-btn" onclick="goToMotivation()">Get Started üöÄ</button>
        </div>
    </div>

    <!-- Motivational Page -->
    <div id="motivation-page" class="motivation-page" style="display: none;">
        <div class="motivation-content">
            <div class="motivation-illustration">
                <div class="trophy">üèÜ</div>
                <div class="stars-burst">
                    <span class="star">‚≠ê</span>
                    <span class="star">‚≠ê</span>
                    <span class="star">‚≠ê</span>
                </div>
            </div>
            <h2 class="motivation-title">Remember...</h2>
            <div class="motivation-quotes">
                <div class="quote-card">
                    <p class="quote-text">"No question is too small"</p>
                    <p class="quote-emoji">üå±</p>
                </div>
                <div class="quote-card">
                    <p class="quote-text">"Every expert was once a beginner"</p>
                    <p class="quote-emoji">üöÄ</p>
                </div>
                <div class="quote-card">
                    <p class="quote-text">"Asking is the first step to knowing"</p>
                    <p class="quote-emoji">üí°</p>
                </div>
            </div>
            <p class="motivation-message">Let's learn together! üí™‚ú®</p>
            <button class="continue-btn" onclick="goToForum()">Continue to Forum ‚Üí</button>
        </div>
    </div>

    <!-- Main Forum -->
    <div id="main-forum" class="container" style="display: none;">
        <header>
            <h1>üéì Ilahia College Doubt Forum</h1>
            <p class="subtitle">Ask doubts. Help classmates. Learn together.</p>
            <button class="post-doubt-btn" onclick="openModal()">+ Post a Doubt</button>
        </header>

        <div id="doubts-container">
            <div class="no-doubts">
                No doubts posted yet. Be the first to ask!
            </div>
        </div>
    </div>

    <!-- Modal for posting doubt -->
    <div id="doubtModal" class="modal">
        <div class="modal-content">
            <h2>Post Your Doubt</h2>
            <form id="doubtForm">
                <div class="form-group">
                    <label>Your Name</label>
                    <input type="text" id="userName" required placeholder="Enter your name">
                </div>
                <div class="form-group">
                    <label>Title</label>
                    <input type="text" id="doubtTitle" required placeholder="Brief summary of your doubt">
                </div>
                <div class="form-group">
                    <label>Subject</label>
                    <select id="doubtSubject" required>
                        <option value="">Select Subject</option>
                        <option value="Data Structures">Data Structures</option>
                        <option value="C Programming">C Programming</option>
                        <option value="Java">Java</option>
                        <option value="Mathematics">Mathematics</option>
                        <option value="Database">Database</option>
                        <option value="Operating Systems">Operating Systems</option>
                        <option value="Computer Networks">Computer Networks</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Description</label>
                    <textarea id="doubtDescription" required placeholder="Explain your doubt in detail..."></textarea>
                </div>
                <div class="btn-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Post Doubt</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        // Storage for doubts (in real app, this would be a database)
        let doubts = [];
        let doubtIdCounter = 1;

        function goToMotivation() {
            document.getElementById('intro-page').style.display = 'none';
            document.getElementById('motivation-page').style.display = 'flex';
        }

        function goToForum() {
            document.getElementById('intro-page').style.display = 'none';
            document.getElementById('motivation-page').style.display = 'none';
            document.getElementById('main-forum').style.display = 'block';
        }

        function openModal() {
            document.getElementById('doubtModal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('doubtModal').classList.remove('active');
            document.getElementById('doubtForm').reset();
        }

        document.getElementById('doubtForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const doubt = {
                id: doubtIdCounter++,
                author: document.getElementById('userName').value,
                title: document.getElementById('doubtTitle').value,
                subject: document.getElementById('doubtSubject').value,
                description: document.getElementById('doubtDescription').value,
                timestamp: new Date().toLocaleString(),
                answers: [],
                solved: false
            };

            doubts.unshift(doubt);
            closeModal();
            renderDoubts();
            
            // Auto-generate AI answer
            setTimeout(() => {
                generateAIAnswer(doubt.id);
            }, 2000);
        });

        async function generateAIAnswer(doubtId) {
            const doubt = doubts.find(d => d.id === doubtId);
            if (!doubt) return;

            try {
                const response = await fetch("https://api.anthropic.com/v1/messages", {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        model: "claude-sonnet-4-20250514",
                        max_tokens: 1000,
                        messages: [
                            { 
                                role: "user", 
                                content: `You are a helpful teaching assistant at Ilahia College. A student asked this doubt:
                                
Title: ${doubt.title}
Subject: ${doubt.subject}
Description: ${doubt.description}

Please provide a clear, helpful, and educational answer. Keep it conversational and easy to understand. Focus on explaining the concept rather than just giving the answer.` 
                            }
                        ],
                    })
                });

                const data = await response.json();
                const aiAnswer = data.content.find(item => item.type === "text")?.text || "I'm here to help! Please provide more details.";

                // Add AI answer to the doubt
                doubt.answers.push({
                    author: "AI Assistant ü§ñ",
                    text: aiAnswer,
                    timestamp: new Date().toLocaleString(),
                    upvotes: 0,
                    upvoted: false,
                    solved: false
                });

                renderDoubts();
            } catch (error) {
                console.error("Error generating AI answer:", error);
                // Fallback answer if API fails
                doubt.answers.push({
                    author: "AI Assistant ü§ñ",
                    text: "I'm here to help! Let me know if you need clarification on any specific part of this question.",
                    timestamp: new Date().toLocaleString(),
                    upvotes: 0,
                    upvoted: false,
                    solved: false
                });
                renderDoubts();
            }
        }

        function renderDoubts() {
            const container = document.getElementById('doubts-container');
            
            if (doubts.length === 0) {
                container.innerHTML = '<div class="no-doubts">No doubts posted yet. Be the first to ask!</div>';
                return;
            }

            container.innerHTML = doubts.map(doubt => `
                <div class="doubt-card">
                    <div class="doubt-header">
                        <div>
                            <h3 class="doubt-title">${doubt.title}</h3>
                            <div class="doubt-meta">
                                <span>üë§ ${doubt.author}</span>
                                <span>üïí ${doubt.timestamp}</span>
                                <span class="subject-tag">${doubt.subject}</span>
                                ${doubt.solved ? '<span class="solved-badge">‚úì Solved</span>' : ''}
                            </div>
                        </div>
                    </div>
                    <p class="doubt-description">${doubt.description}</p>
                    <div class="doubt-actions">
                        <button class="answer-btn" onclick="toggleAnswerBox(${doubt.id})">üí¨ Answer</button>
                    </div>
                    
                    <div id="answer-box-${doubt.id}" style="display: none;">
                        <textarea class="answer-input" id="answer-text-${doubt.id}" placeholder="Write your answer..."></textarea>
                        <button class="submit-answer-btn" onclick="submitAnswer(${doubt.id})">Submit Answer</button>
                        <button class="cancel-answer-btn" onclick="toggleAnswerBox(${doubt.id})">Cancel</button>
                    </div>

                    ${doubt.answers.length > 0 ? `
                        <div class="answers-section">
                            <strong>${doubt.answers.length} Answer(s)</strong>
                            ${doubt.answers.map((answer, index) => `
                                <div class="answer-card ${answer.solved ? 'solved' : ''}">
                                    <div class="answer-header">
                                        <span class="answer-author">${answer.author}</span>
                                        <span class="answer-time">${answer.timestamp}</span>
                                    </div>
                                    <p class="answer-text">${answer.text}</p>
                                    <div class="answer-actions">
                                        <button class="upvote-btn ${answer.upvoted ? 'upvoted' : ''}" onclick="toggleUpvote(${doubt.id}, ${index})">
                                            üëç ${answer.upvotes}
                                        </button>
                                        ${!doubt.solved && !answer.solved ? `
                                            <button class="mark-solved-btn" onclick="markSolved(${doubt.id}, ${index})">
                                                ‚úì Mark as Solved
                                            </button>
                                        ` : ''}
                                        ${answer.solved ? '<span style="color: #10b981; font-weight: 600;">‚úì Accepted Answer</span>' : ''}
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                    ` : ''}
                </div>
            `).join('');
        }

        function toggleAnswerBox(doubtId) {
            const box = document.getElementById(`answer-box-${doubtId}`);
            box.style.display = box.style.display === 'none' ? 'block' : 'none';
        }

        function submitAnswer(doubtId) {
            const answerText = document.getElementById(`answer-text-${doubtId}`).value.trim();
            if (!answerText) {
                alert('Please write an answer!');
                return;
            }

            const authorName = prompt('Enter your name:');
            if (!authorName) return;

            const doubt = doubts.find(d => d.id === doubtId);
            doubt.answers.push({
                author: authorName,
                text: answerText,
                timestamp: new Date().toLocaleString(),
                upvotes: 0,
                upvoted: false,
                solved: false
            });

            // Sort answers by upvotes
            doubt.answers.sort((a, b) => b.upvotes - a.upvotes);

            document.getElementById(`answer-text-${doubtId}`).value = '';
            toggleAnswerBox(doubtId);
            renderDoubts();
        }

        function toggleUpvote(doubtId, answerIndex) {
            const doubt = doubts.find(d => d.id === doubtId);
            const answer = doubt.answers[answerIndex];
            
            if (answer.upvoted) {
                answer.upvotes--;
                answer.upvoted = false;
            } else {
                answer.upvotes++;
                answer.upvoted = true;
            }

            // Sort answers by upvotes
            doubt.answers.sort((a, b) => b.upvotes - a.upvotes);
            renderDoubts();
        }

        function markSolved(doubtId, answerIndex) {
            const doubt = doubts.find(d => d.id === doubtId);
            doubt.answers[answerIndex].solved = true;
            doubt.solved = true;
            renderDoubts();
        }

        // Close modal when clicking outside
        document.getElementById('doubtModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });

        // Initial render
        renderDoubts();
    </script>
</body>
</html> 